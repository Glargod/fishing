<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Solar Wind Live Meter</title> <script src="https://cdnjs.cloudflare.com/ajax/libs/suncalc/1.9.0/suncalc.min.js"></script> <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"> <style> body { font-family: 'Roboto', sans-serif; background: linear-gradient(180deg, #1a1a1a, #2c2c2c); color: #ffffff; margin: 0; padding: 20px; } .container { max-width: 800px; margin: 0 auto; padding: 15px; background: linear-gradient(135deg, #2c2c2c, #1e1e1e); border-radius: 12px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5); } .section { margin-bottom: 25px; background: #3a3a3a; padding: 15px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3); } h1, h2 { text-shadow: 0 0 5px rgba(255, 255, 255, 0.3); } .data-item { margin: 8px 0; font-size: 16px; } .aurora-dashboard { background: #222; padding: 15px; border-radius: 10px; box-shadow: 0 0 15px rgba(255, 255, 255, 0.1); } .aurora-metric { margin: 10px 0; border-bottom: 1px solid #555; padding-bottom: 10px; } .metric-label { font-weight: bold; font-size: 18px; margin-bottom: 5px; } .metric-value { font-size: 16px; color: #FFCA28; } .metric-details { display: none; margin-top: 10px; padding: 10px; background: #333; border-radius: 5px; font-size: 14px; } .metric-toggle { cursor: pointer; color: #4CAF50; font-size: 14px; margin-top: 5px; } .metric-toggle:hover { text-decoration: underline; } #issFeed { width: 100%; height: 300px; border: none; border-radius: 8px; } .forecast-table { width: 100%; border-collapse: collapse; font-size: 14px; } .forecast-table th, .forecast-table td { padding: 10px; border: 1px solid #555; text-align: left; } .forecast-table th { background: #4a4a4a; } .alert-marquee { display: none; background: linear-gradient(45deg, #ff0000, #00ff00, #ff0000); color: #fff; padding: 12px; font-weight: bold; text-align: center; animation: flash 1s infinite, marquee 10s linear infinite; border-radius: 8px; margin-bottom: 20px; } @keyframes flash { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } } @keyframes marquee { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } } .photo-tips { background: #4a4a4a; padding: 15px; border-radius: 8px; } #cameraSection { display: none; text-align: center; } #cameraIcon { width: 40px; height: 40px; cursor: pointer; margin: 10px auto; display: block; transition: transform 0.3s; } #cameraIcon:hover { transform: scale(1.1); } #cameraFeed { width: 100%; max-width: 640px; height: auto; border-radius: 8px; filter: brightness(1.2) contrast(1.1); background: #000; margin: 10px auto; } #cameraMessage { color: #ffca28; margin-top: 10px; font-size: 14px; } .iframe-fallback { color: #ffca28; text-align: center; padding: 10px; } @media (max-width: 600px) { .container { padding: 10px; } .section { padding: 10px; } .forecast-table th, .forecast-table td { padding: 6px; font-size: 12px; } } </style> </head> <body> <div class="container"> <h1>Solar Wind Live Meter</h1> <div class="section" id="timestamp">As of: 03:40 PM ADT</div> <div class="section"> <div id="optimalAlert" class="alert-marquee"> ðŸŒŒ Optimal Viewing Conditions! Look Up to Observe Stars or Aurora! ðŸŒŒ </div> </div> <div class="section aurora-dashboard"> <h2>Your Aurora Data Dashboard</h2> <p>Welcome to the Aurora Data Dashboard! Here we provide real-time aurora forecast data relevant to current conditions.</p> <div class="aurora-metric"> <div class="metric-label">Solar Wind Velocity</div> <div class="data-item">Speed: <span id="solarWindSpeed" class="metric-value">Loading...</span> km/s</div> <div class="metric-toggle" onclick="toggleDetails('solarWindSpeedDetails')">Why this matters â–¼</div> <div id="solarWindSpeedDetails" class="metric-details"> The solar wind is a stream of charged particles from the Sun that interacts with Earth's magnetic field. When the solar wind is strong, it can trigger more intense auroras. A higher velocity can cause disturbances in Earth's magnetosphere, resulting in more vibrant and dynamic auroras, often referred to as auroral substorms. </div> </div> <div class="aurora-metric"> <div class="metric-label">Particle Density</div> <div class="data-item">Density: <span id="particleDensity" class="metric-value">Loading...</span> p/cmÂ³</div> <div class="metric-toggle" onclick="toggleDetails('particleDensityDetails')">Why this matters â–¼</div> <div id="particleDensityDetails" class="metric-details"> Particle density in the solar wind refers to the concentration of charged particles, such as protons and electrons. Higher density increases the likelihood of interactions with Earth's magnetic field, amplifying auroral activity. Along with solar wind speed and magnetic field strength, particle density plays a key role in determining the intensity of the aurora. </div> </div> <div class="aurora-metric"> <div class="metric-label">Interplanetary Magnetic Field (IMF) Bz</div> <div class="data-item">Bz: <span id="imfBz" class="metric-value">Loading...</span> nT</div> <div class="metric-toggle" onclick="toggleDetails('imfBzDetails')">Why this matters â–¼</div> <div id="imfBzDetails" class="metric-details"> Interplanetary Magnetic Field (IMF) Bz is the vertical component of the interplanetary magnetic field. When the Bz is negative (southward), it allows for greater interaction with Earth's magnetic field, enhancing the likelihood of auroral displays. A negative Bz is often considered a key factor in triggering strong auroral activity. </div> </div> <div class="aurora-metric"> <div class="metric-label">Interplanetary Magnetic Field (IMF) Bt</div> <div class="data-item">Bt: <span id="imfBt" class="metric-value">Loading...</span> nT</div> <div class="metric-toggle" onclick="toggleDetails('imfBtDetails')">Why this matters â–¼</div> <div id="imfBtDetails" class="metric-details"> Interplanetary Magnetic Field (IMF) Bt is the total strength of the interplanetary magnetic field. Higher Bt values indicate a stronger magnetic field, which increases the potential for interactions with Earth's magnetosphere, often leading to more intense auroras when combined with favorable Bz conditions. </div> </div> <div class="aurora-metric"> <div class="metric-label">Hemispheric Power Index (HPI)</div> <div class="data-item">HPI: <span id="hpi" class="metric-value">Loading...</span> GW</div> <div class="metric-toggle" onclick="toggleDetails('hpiDetails')">Why this matters â–¼</div> <div id="hpiDetails" class="metric-details"> The Hemispheric Power Index (HPI) measures the total power in gigawatts (GW) deposited into Earth's upper atmosphere by charged particles from the solar wind, specifically in the auroral regions. Keep an eye out for higher values: above 20 GW, aurora borealis can be visible to the naked eye in northern areas; above 50 GW, the lights are visible further south; above 100 GW, it's a major aurora event. </div> </div> </div> <div class="section"> <h2>Flare Probabilities</h2> <div class="data-item">C Flare: <span id="cFlare">Loading...</span>%</div> <div class="data-item">M Flare: <span id="mFlare">Loading...</span>%</div> <div class="data-item">X Flare: <span id="xFlare">Loading...</span>%</div> <div class="data-item">Proton Event: <span id="proton">Loading...</span>%</div> </div> <div class="section"> <h2>Astronomical Data (<span id="timezone">Detecting...</span>)</h2> <div class="data-item">Sun: Rise <span id="sunRise">Loading...</span>, Set <span id="sunSet">Loading...</span></div> <div class="data-item">Moon: Rise <span id="moonRise">Loading...</span>, Set <span id="moonSet">Loading...</span>, Illum <span id="moonIllum">Loading...</span>%</div> </div> <div class="section"> <h2>Weather Forecast (<span id="location">Detecting...</span>)</h2> <table class="forecast-table"> <thead> <tr> <th>Date</th> <th>Condition</th> <th>High (Â°C)</th> <th>Low (Â°C)</th> <th>Precipitation (%)</th> <th>Wind (km/h)</th> </tr> </thead> <tbody id="forecastBody"> <tr><td colspan="6">Loading...</td></tr> </tbody> </table> </div> <div class="section" id="cameraSection"> <h2>Camera (Night Mode)</h2> <svg id="cameraIcon" viewBox="0 0 24 24" fill="#4CAF50"> <path d="M12 9c-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3-1.35-3-3-3zm0 4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm7-8H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 12H5V7h14v10z"/> </svg> <video id="cameraFeed" autoplay playsinline></video> <div id="cameraMessage"></div> </div> <div class="section"> <h2>Photography Tips for Celestial Events</h2> <div class="photo-tips" id="photoTips"> <p><strong>General Tips:</strong></p> <ul> <li><strong>Location:</strong> Choose a dark site (Bortle < 4).</li> <li><strong>Equipment:</strong> DSLR/smartphone with manual mode, tripod.</li> <li><strong>Settings:</strong> ISO 800â€“3200, 5â€“30s exposure, f/2.8 or lower.</li> <li><strong>Focus:</strong> Manual focus to infinity on a bright star.</li> <li><strong>Apps:</strong> Use Stellarium or SkySafari.</li> <li><strong>Night Mode (Smartphones):</strong> <ul> <li><strong>iOS:</strong> Enable Night Mode (moon icon, up to 30s).</li> <li><strong>Android:</strong> Use Night Sight or Night Mode.</li> <li>Use a tripod for stability.</li> </ul> </li> </ul> <p id="eventSpecificTips"><strong>Event-Specific Tips:</strong> Detecting...</p> </div> </div> <div class="section"> <h2>ISS Live Feed</h2> <iframe id="issFeed" src="https://www.youtube.com/embed/EEIk7gwjgIM" title="ISS Live Feed" allow="fullscreen" allowfullscreen></iframe> <div class="iframe-fallback" id="issFallback" style="display: none;"> ISS Live Feed unavailable. Visit <a href="https://www.nasa.gov/nasalive" style="color: #ffca28;">NASA Live</a>. </div> </div> <div class="section"> <h2>Satellite Updates</h2> <div id="satUpdates">Loading...</div> </div> </div> <script> // Constants const UPDATE_INTERVAL = 300000; // 5 minutes for all data const DEFAULT_LAT = 44.6488; // Halifax, NS const DEFAULT_LON = -63.5752; let useMockData = false; // Toggle to true for localhost testing without internet // Mock Data (for localhost fallback) const mockAuroraData = { solarWindSpeed: 458.5, particleDensity: 5.6, imfBz: -8.7, imfBt: 10.4, hpi: 28 }; const mockFlareProbs = { c: 65, m: 25, x: 8, proton: 3 }; const mockSatellites = [ { name: "DSCOVR", lastUpdate: "03:40 PM ADT" }, { name: "ACE", lastUpdate: "03:39 PM ADT" }, { name: "SOHO", lastUpdate: "03:38 PM ADT" }, { name: "SDO", lastUpdate: "03:41 PM ADT" }, { name: "GOES-19", lastUpdate: "03:40 PM ADT" }, { name: "STEREO-A", lastUpdate: "03:37 PM ADT" } ]; // Global State let auroraData = { solarWindSpeed: "Loading...", particleDensity: "Loading...", imfBz: "Loading...", imfBt: "Loading...", hpi: "Loading..." }; let flareProbs = { c: "Loading...", m: "Loading...", x: "Loading...", proton: "Loading..." }; let astroData = { sun: { rise: "Loading...", set: "Loading..." }, moon: { rise: "Loading...", set: "Loading...", illum: "Loading..." } }; let weatherForecast = []; let userLat = DEFAULT_LAT; let userLon = DEFAULT_LON; let userTimezone = "ADT"; let userLocation = "Halifax, NS"; let lastUpdateTime = "03:40 PM ADT"; let cameraStream = null; // Toggle Details Function function toggleDetails(elementId) { const element = document.getElementById(elementId); const toggle = element.previousElementSibling; if (element.style.display === "block") { element.style.display = "none"; toggle.textContent = "Why this matters â–¼"; } else { element.style.display = "block"; toggle.textContent = "Why this matters â–²"; } } // Fetch Aurora Data async function fetchAuroraData() { try { if (useMockData || !navigator.onLine) { auroraData = { ...mockAuroraData }; console.log("Using mock aurora data for localhost."); return; } // Fetch Solar Wind Data (ACE SWEPAM) const solarWindResponse = await fetch('https://services.swpc.noaa.gov/json/ace/swepam.json'); if (!solarWindResponse.ok) throw new Error("Solar wind fetch failed"); const solarWindData = await solarWindResponse.json(); const latestSolarWind = solarWindData[solarWindData.length - 1]; auroraData.solarWindSpeed = latestSolarWind ? parseFloat(latestSolarWind.speed).toFixed(1) : mockAuroraData.solarWindSpeed; auroraData.particleDensity = latestSolarWind ? parseFloat(latestSolarWind.density).toFixed(1) : mockAuroraData.particleDensity; // Fetch IMF Data (ACE Magnetometer) const imfResponse = await fetch('https://services.swpc.noaa.gov/json/ace/mag.json'); if (!imfResponse.ok) throw new Error("IMF fetch failed"); const imfData = await imfResponse.json(); const latestImf = imfData[imfData.length - 1]; auroraData.imfBz = latestImf ? parseFloat(latestImf.bz).toFixed(1) : mockAuroraData.imfBz; auroraData.imfBt = latestImf ? parseFloat(latestImf.bt).toFixed(1) : mockAuroraData.imfBt; // Fetch HPI (Ovation Aurora) const hpiResponse = await fetch('https://services.swpc.noaa.gov/json/ovation_aurora_latest.json'); if (!hpiResponse.ok) throw new Error("HPI fetch failed"); const hpiData = await hpiResponse.json(); auroraData.hpi = hpiData ? parseFloat(hpiData["Hemispheric Power"]).toFixed(0) : mockAuroraData.hpi; console.debug("Aurora data fetched successfully from NOAA."); } catch (error) { console.error("Error fetching aurora data:", error); auroraData = { ...mockAuroraData }; } } // Fetch Flare Probabilities async function fetchFlareData() { try { if (useMockData || !navigator.onLine) { flareProbs = { ...mockFlareProbs }; console.log("Using mock flare data for localhost."); return; } // Placeholder: Replace with real API when available flareProbs = { c: 65, m: 25, x: 8, proton: 3 }; } catch (error) { console.error("Error fetching flare data:", error); flareProbs = { ...mockFlareProbs }; } } function simulateWeatherForecast(lat, lon) { try { const conditions = ["Sunny", "Cloudy", "Rain", "Snow", "Partly Cloudy"]; const forecast = []; const baseDate = new Date(); for (let i = 0; i < 5; i++) { const date = new Date(baseDate); date.setDate(baseDate.getDate() + i); const tempHigh = Math.round(10 + Math.random() * 15 - (lat > 50 ? 5 : 0)); const tempLow = tempHigh - Math.round(5 + Math.random() * 5); const precipChance = Math.round(Math.random() * 60); const windSpeed = Math.round(10 + Math.random() * 20); forecast.push({ date: date.toLocaleDateString("en-US", { weekday: "short", month: "short", day: "numeric" }), condition: conditions[Math.floor(Math.random() * conditions.length)], high: tempHigh, low: tempLow, precipitation: precipChance, wind: windSpeed }); } return forecast; } catch (error) { console.error("Error simulating weather forecast:", error); return []; } } function formatTime(date, timezone) { try { return date.toLocaleTimeString("en-US", { hour: "2-digit", minute: "2-digit", hour12: true, timeZone: timezone }) + ` ${timezone}`; } catch (error) { console.error("Error formatting time:", error); return "N/A"; } } function getAstroData(lat, lon) { try { if (isNaN(lat) || isNaN(lon) || lat < -90 || lat > 90 || lon < -180 || lon > 180) { throw new Error("Invalid coordinates"); } const now = new Date(); const sunTimes = SunCalc.getTimes(now, lat, lon); const moonTimes = SunCalc.getMoonTimes(now, lat, lon); const moonIllum = SunCalc.getMoonIllumination(now); return { sun: { rise: sunTimes.sunrise ? formatTime(sunTimes.sunrise, userTimezone) : "N/A", set: sunTimes.sunset ? formatTime(sunTimes.sunset, userTimezone) : "N/A" }, moon: { rise: moonTimes.rise ? formatTime(moonTimes.rise, userTimezone) : "N/A", set: moonTimes.set ? formatTime(moonTimes.set, userTimezone) : "N/A", illum: Math.round(moonIllum.fraction * 100) } }; } catch (error) { console.error("Error calculating astronomical data:", error); return { sun: { rise: "04:50 AM ADT", set: "08:10 PM ADT" }, moon: { rise: "12:30 AM ADT", set: "08:08 AM ADT", illum: 81 } }; } } function isNightTime() { try { const now = new Date(); const sunriseStr = astroData.sun.rise.split(' ')[0]; const sunsetStr = astroData.sun.set.split(' ')[0]; const sunrise = new Date(`${now.toDateString()} ${sunriseStr}`); const sunset = new Date(`${now.toDateString()} ${sunsetStr}`); if (isNaN(sunrise.getTime()) || isNaN(sunset.getTime())) { throw new Error("Invalid sunrise/sunset time"); } return now < sunrise || now > sunset; } catch (error) { console.error("Error checking nighttime:", error); return false; // 03:40 PM ADT is daytime } } function areConditionsOptimal() { try { const isNight = isNightTime(); const lowMoon = astroData.moon.illum < 25; const clearWeather = weatherForecast.length > 0 && ( (weatherForecast[0].condition === "Sunny" || weatherForecast[0].condition === "Partly Cloudy") && weatherForecast[0].precipitation < 10 ); const highHpi = parseFloat(auroraData.hpi) >= 50; return isNight && (lowMoon || highHpi) && clearWeather; } catch (error) { console.error("Error checking optimal conditions:", error); return false; } } function getPhotographyTips() { try { const isAurora = parseFloat(auroraData.hpi) >= 50; if (isAurora) { return ` <strong>Aurora Photography:</strong> <ul> <li>Wide-angle lens (14â€“24mm) for sky coverage.</li> <li>ISO 1600â€“6400, 5â€“15s shutter, f/2.8â€“f/4.</li> <li>Shoot in RAW for post-processing.</li> <li>Include foreground (trees, lakes).</li> <li>Use aurora apps like Aurora Alerts.</li> </ul> `; } else { return ` <strong>Stargazing Photography:</strong> <ul> <li>24â€“50mm lens for stars or deep-sky objects.</li> <li>ISO 800â€“3200, 15â€“30s shutter (500 rule).</li> <li>Stack images with Starry Landscape Stacker.</li> <li>Target constellations or Milky Way.</li> <li>Use red flashlight for night vision.</li> </ul> `; } } catch (error) { console.error("Error generating photography tips:", error); return "<strong>Event-Specific Tips:</strong> Unable to load tips."; } } async function startCamera() { try { if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) { throw new Error("Camera not supported"); } const constraints = { video: { facingMode: "environment", width: { ideal: 1280 }, height: { ideal: 720 } } }; cameraStream = await navigator.mediaDevices.getUserMedia(constraints); const video = document.getElementById('cameraFeed'); video.srcObject = cameraStream; document.getElementById('cameraMessage').textContent = "Camera active. Use Night Mode for best results."; } catch (error) { console.error("Error accessing camera:", error); document.getElementById('cameraMessage').textContent = "Camera access denied. Enable permissions and use Night Mode."; } } function stopCamera() { try { if (cameraStream) { cameraStream.getTracks().forEach(track => track.stop()); cameraStream = null; document.getElementById('cameraFeed').srcObject = null; document.getElementById('cameraMessage').textContent = "";
