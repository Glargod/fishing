function findTerpenesByStrain() {
    const strainInput = document.getElementById("strainInput").value.trim();
    const strainResultDiv = document.getElementById("strainResult");

    if (!strainInput) {
        strainResultDiv.innerHTML = "<p>Please enter a strain name.</p>";
        return;
    }

    // Normalize the input: remove hyphens, spaces, and convert to lowercase
    const normalizedInput = strainInput.toLowerCase().replace(/[-\s]+/g, '');

    // Find terpenes that include the strain (exact or partial match)
    const matchingTerpenes = terpenes.filter(terpene => 
        terpene.strains.some(strain => {
            const normalizedStrain = strain.toLowerCase().replace(/[-\s]+/g, '');
            return normalizedStrain === normalizedInput || normalizedStrain.includes(normalizedInput);
        })
    );

    if (matchingTerpenes.length === 0) {
        const googleSearchUrl = `https://www.google.com/search?q=terpene+profile+for+cannabis+strain+${encodeURIComponent(strainInput)}`;
        strainResultDiv.innerHTML = `<p>No terpenes found for strain "${strainInput}". Try searching on Google: <a href="${googleSearchUrl}" target="_blank">Terpene profile for ${strainInput}</a></p>`;
        return;
    }

    let resultHTML = `<h4>Terpenes for ${strainInput}</h4>`;
    matchingTerpenes.forEach(terpene => {
        resultHTML += `<p><strong>${terpene.name}</strong><br>Effects: ${terpene.effects.join(", ")}</p>`;
    });

    strainResultDiv.innerHTML = resultHTML;
}
